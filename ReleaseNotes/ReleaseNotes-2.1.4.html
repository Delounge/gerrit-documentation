<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<title>Release notes for Gerrit 2.1.4</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #dddddd;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > div.content {
  white-space: pre;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}


@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock-content {
  white-space: pre;
}
div.verseblock-attribution {
  padding-top: 0.75em;
  text-align: left;
}

div.exampleblock-content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes(); asciidoc.toc(2);}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body>
<div id="header">
<h1>Release notes for Gerrit 2.1.4</h1>
<span id="revnumber">version 2.1.4</span>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>Gerrit 2.1.4 is now available in the usual location:</p></div>
<div class="paragraph"><p><a href="http://code.google.com/p/gerrit/downloads/list">http://code.google.com/p/gerrit/downloads/list</a></p></div>
</div>
</div>
<h2 id="_schema_change">Schema Change</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>WARNING</strong> This release contains multiple schema changes.  To upgrade:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>  java -jar gerrit.war init -d site_path</tt></pre>
</div></div>
</div>
<h2 id="_new_features">New Features</h2>
<div class="sectionbody">
<h3 id="_change_management">Change Management</h3><div style="clear:left"></div>
<div class="ulist"><ul>
<li>
<p>
issue 504 Implement full query operators
</p>
<div class="paragraph"><p>The search box now implments a wide range of operators and boolean
expressions, permitting complex queries such as <tt>is:open CodeReview&gt;=1
(has:draft OR is:starred)</tt> to locate open changes that have been code
reviewed, but still have unpublished drafts or were starred by the
current user.  The full range of supported operators is documented
in the user guide.</p></div>
</li>
<li>
<p>
Change lists now use query operators
</p>
<div class="paragraph"><p>All current change lists have been reimplemented using query
operators, so selecting <em>All open changes</em> actually performs the query
<em>is:open</em>.  This is to help end-users learn the different operators
that are supported, and simplifies the internal implementation
considerably by removing redundant code.</p></div>
</li>
<li>
<p>
issue 51 Tag changes with topic branches
</p>
<div class="paragraph"><p>Changes can be tagged with a topic name during upload.  To add the tag
<em>query</em> when pushing to branch <em>master</em>, use <tt>git push URL
HEAD:refs/for/master/query</tt>.  To add a topic name with <tt>repo upload</tt>
use the <tt>-t</tt> command line flag.  Topic names are displayed next to the
branch name in the web UI, and can be searched for with the <tt>topic:</tt>
query operator.</p></div>
</li>
<li>
<p>
Filter the list of open changes by watched projects
</p>
<div class="paragraph"><p>The query operator <tt>is:watched</tt> matches changes matching the user&#8217;s
watched project list, and a new menu item was added under the My menu
to select open changes matching these watched projects.</p></div>
</li>
</ul></div>
<h3 id="_web_ui">Web UI</h3><div style="clear:left"></div>
<div class="ulist"><ul>
<li>
<p>
issue 579 Remember diff formatting preferences
</p>
<div class="paragraph"><p>Formatting options at the top of a side-by-side or unified diff page
are now remembered by saving the current preferences into the user&#8217;s
account whenever <em>Update</em> is clicked.</p></div>
</li>
<li>
<p>
issue 680 Show commit message on the per-file review pages
</p>
</li>
<li>
<p>
issue 498 Improved keyboard navigation
</p>
<div class="paragraph"><p>More keyboard bindings have been added, reducing the need to switch to
the mouse while navigating through a change and performing a review.</p></div>
</li>
<li>
<p>
issue 395 Open new window/new tab for all files in a change
</p>
<div class="paragraph"><p>New buttons permit opening all modified files of a change into
new windows or tabs.</p></div>
</li>
<li>
<p>
issue 440 Add copy to clipboard button for change-id
</p>
<div class="paragraph"><p>The Change-Id field in the upper left side of a change now support to
copy "Change-Id: I&#8230;." onto the clipboard, making it easier to paste
into a commit message.</p></div>
</li>
<li>
<p>
issue 559 Allow copying user public ssh key to clipboard
</p>
</li>
<li>
<p>
issue 509 Make branch columns link to changes on that branch
</p>
</li>
</ul></div>
<h3 id="_email_notifications">Email Notifications</h3><div style="clear:left"></div>
<div class="ulist"><ul>
<li>
<p>
issue 311 No longer CC a user by default
</p>
<div class="paragraph"><p>The user who causes a notification to be sent is no longer CC&#8217;d on the
email when it is sent.  This reduces the number of messages sent to a
user, but can be re-enabled through a checkbox in the Settings &gt;
Preferences panel.</p></div>
</li>
<li>
<p>
issue 535 Enable watching of all projects
</p>
<div class="paragraph"><p>Adding the magic <tt>\-- All Projects \--</tt> to the watched project list
permits the user to be notified of any change occurring in any
project.  Project specific entries override the notification settings
for all projects.</p></div>
</li>
<li>
<p>
issue 492 Allow watching specific branches or any other search query
</p>
<div class="paragraph"><p>In addition to watching a project, users can register a query string
to match specific changes, reducing notifications to be a smaller
subset of the changes that occur in a project.</p></div>
</li>
<li>
<p>
issue 70 Allow file:^regex to match affected files
</p>
<div class="paragraph"><p>The file:^path operator can be used in a watch filter to receive
notifications only when files matching the regular expression are
modified by the change.</p></div>
</li>
<li>
<p>
issue 623 Include Gerrit-Owner, Gerrit-Reviewer in email footers
</p>
<div class="paragraph"><p>New fields in the email footer provide additional detail, enabling
better filtering and classification of messages.</p></div>
</li>
</ul></div>
<h3 id="_access_control">Access Control</h3><div style="clear:left"></div>
<div class="ulist"><ul>
<li>
<p>
Support regular expressions for ref access rules
</p>
<div class="paragraph"><p>References in an access rule can now be specified by regular
expression by prefixing the reference name with ^.</p></div>
</li>
<li>
<p>
issue 577 Support ${username} in access rules
</p>
<div class="paragraph"><p>Adding <tt>$\{username\}</tt> into a reference causes the current username to
be inserted at that position.  When combined with the Push Branch
permission this creates a per-user branch namespace feature, giving
each user their own "sandbox" to push changes to.</p></div>
</li>
<li>
<p>
issue 313 ssh gerrit create-group
</p>
<div class="paragraph"><p>Groups can now be created over SSH by administrators using the
<tt>gerrit create-group</tt> command.</p></div>
</li>
</ul></div>
<h3 id="_authentication">Authentication</h3><div style="clear:left"></div>
<div class="ulist"><ul>
<li>
<p>
Remove password authentication over SSH
</p>
<div class="paragraph"><p>Adding password authentication over SSH turned out to be a major
mistake.  Users primarily use SSH public keys, and the password
prompt just got in the way or confused them.  Password support has
been removed from the SSH server.</p></div>
</li>
<li>
<p>
Username cannot be changed once assigned
</p>
<div class="paragraph"><p>Once a username has been selected for a user account, it
cannot be modified by the user.</p></div>
</li>
<li>
<p>
issue 555 Make LDAP sessions persistent for the session age
</p>
<div class="paragraph"><p>Web sessions are now persistent for the cache.web_sessions.maxAge
setting, rather than expiring when the browser closes.  (Previously
sessions expired when the browser exited.)</p></div>
</li>
</ul></div>
<h3 id="_misc">Misc.</h3><div style="clear:left"></div>
<div class="ulist"><ul>
<li>
<p>
Add topic, lastUpdated, sortKey to ChangeAttribute
</p>
<div class="paragraph"><p>Additional change fields are now exported as part of the
stream-events output.</p></div>
</li>
<li>
<p>
issue 504 gerrit query SSH command
</p>
<div class="paragraph"><p>Queries to lookup change information can be executed over SSH through
the <tt>gerrit query</tt> command, with results output in either human
readable text or machine readable JSON.  Change queries can also be
run over HTTP with the <tt>/query?q=&lt;query&gt;&amp;format=JSON</tt> URL.  Both
interfaces are intended for automated tools.</p></div>
</li>
<li>
<p>
Remove git diff-tree dependency
</p>
<div class="paragraph"><p>Gerrit no longer requires <tt>git</tt> in the PATH; differences are now
constructed in pure Java code.  Remote repository initialization over
SSH still requires <tt>git</tt> on the remote host&#8217;s PATH.</p></div>
</li>
<li>
<p>
Internal dependencies updated
</p>
<div class="paragraph"><p>Updated JGit to 0.8.4.89-ge2f5716, log4j to 1.2.16, GWT to 2.0.4,
sfl4j to 1.6.1, easymock to 3.0, JUnit to 4.8.1.</p></div>
</li>
</ul></div>
</div>
<h2 id="_bug_fixes">Bug Fixes</h2>
<div class="sectionbody">
<h3 id="_web_ui_2">Web UI</h3><div style="clear:left"></div>
<div class="ulist"><ul>
<li>
<p>
issue 352 Confirm branch deletion in web UI
</p>
<div class="paragraph"><p>Deleting a branch now presents a confirmation dialog to give the user
a second chance to abort the destructive operation.</p></div>
</li>
<li>
<p>
Fix some JavaScript errors under Chrome
</p>
<div class="paragraph"><p>The GWT compiler started to define symbols in the same namespace as
the prettify syntax highlighting library.  We moved the prettify
library into its own iframe so it has a different JavaScript namespace
in the browser.</p></div>
</li>
<li>
<p>
Close button on OpenId register / sign-in dialog
</p>
<div class="paragraph"><p>There was no obvious way to leave the sign-in dialog. Fixed.</p></div>
</li>
<li>
<p>
Links in OpenId sign-in dialog not focusable
</p>
<div class="paragraph"><p>Keyboard navigation to standard links like <em>Google Accounts</em>
wasn&#8217;t supported.  Fixed.</p></div>
</li>
</ul></div>
<h3 id="_misc_2">Misc.</h3><div style="clear:left"></div>
<div class="ulist"><ul>
<li>
<p>
issue 614 Fix 503 error when Jetty cancels a request
</p>
<div class="paragraph"><p>A bug was introduced in 2.1.3 that caused a server 503 error
when a fetch/pull/clone or push request timed out.  Fixed.</p></div>
</li>
</ul></div>
</div>
<h2 id="_version">Version</h2>
<div class="sectionbody">
<div class="paragraph"><p>ae59d1bf232bba16d4d03ca924884234c68be0f2</p></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version 2.1.4<br />
Last updated 2012-01-27 09:47:03 MDT
</div>
</div>
</body>
</html>
