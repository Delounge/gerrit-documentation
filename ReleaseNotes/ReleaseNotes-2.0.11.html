<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.2.2" />
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
}

strong {
  font-weight: bold;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1 {
  border-bottom: 2px solid silver;
}
h2 {
  border-bottom: 2px solid silver;
  padding-top: 0.5em;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revision {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble,
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-right: 10%;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.5em;
  margin-bottom: 2.5em;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock {
  margin-right: 0%;
}
div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock > div.content {
  padding-left: 2.0em;
}

div.attribution {
  text-align: right;
}
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 2px solid silver;
}

div.exampleblock > div.content {
  border-left: 2px solid silver;
  padding: 0.5em;
}

div.verseblock div.content {
  white-space: pre;
}

div.imageblock div.content { padding-left: 0; }
div.imageblock img { border: 1px solid silver; }
span.image img { border-style: none; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: italic;
}
dd > *:first-child {
  margin-top: 0;
}

ul, ol {
    list-style-position: outside;
}
ol.olist2 {
  list-style-type: lower-alpha;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}

div.hlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hlist td {
  padding-bottom: 5px;
}
td.hlist1 {
  vertical-align: top;
  font-style: italic;
  padding-right: 0.8em;
}
td.hlist2 {
  vertical-align: top;
}

@media print {
  div#footer-badges { display: none; }
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-content {
  padding-left: 2.0em;
}

div.exampleblock-content {
  border-left: 2px solid silver;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){generateToc(2)}
/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4.sp
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, October 2006. License: GPL */
 /* modified by Shawn Pearce, August 2009. License: GPL */

function getText(el) {
  var text = "";
  for (var i = el.firstChild; i != null; i = i.nextSibling) {
    if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
      text += i.data;
    else if (i.firstChild != null)
      text += getText(i);
  }
  return text;
}

function TocEntry(el, text, toclevel) {
  this.element = el;
  this.text = text;
  this.toclevel = toclevel;
  this.assigned = false;

  if (el.id != '') {
    this.id = el.id;

  } else {
    var a = el.firstChild;
    if ((a.tagName == "a" || a.tagName == "A") && a.id != "") {
      this.id = a.id;
    } else {
      this.id = '';
    }
  }
}

function tocEntries(el, toclevels) {
  var result = new Array;
  var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
  // Function that scans the DOM tree for header elements (the DOM2
  // nodeIterator API would be a better technique but not supported by all
  // browsers).
  var iterate = function (el) {
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
        var mo = re.exec(i.tagName)
        if (mo)
          result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
        iterate(i);
      }
    }
  }
  iterate(el);
  return result;
}

// This function does the work. toclevels = 1..4.
function generateToc(toclevels) {
  var simple_re = new RegExp('^[a-zA-Z._ -]{1,}$');
  var entries = tocEntries(document.getElementsByTagName("body")[0], toclevels);
  var usedIds = new Array();

  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.id != "")
      usedIds[entry.id] = entry;
  }

  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.id != "" || !simple_re.exec(entry.text))
      continue;

    var n = entry.text.replace(/ /g, '_').toLowerCase();
    var e = usedIds[n];
    if (e) {
      if (e.assigned)
        e.id = '';
      continue;
    }

    entry.assigned = true;
    entry.id = n;
    entry.element.id = entry.id;
    usedIds[n] = entry;
  }

  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.id == '') {
      entry.id = "toc" + i;
      entry.element.id = entry.id;
    }
  }

  var toc = document.getElementById("toc");
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    var a = document.createElement("a");
    a.href = "#" + entry.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
}
/*]]>*/
</script>
<title>Release notes for Gerrit 2.0.11</title>
</head>
<body>
<div id="header">
<h1>Release notes for Gerrit 2.0.11</h1>
<span id="revision">version 2.0.11 (from v2.1.1.1-104-gc20e283)</span>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="preamble">
<div class="sectionbody">
<p>Gerrit 2.0.11 is now available in the usual location:</p>
<p><a href="http://code.google.com/p/gerrit/downloads/list">http://code.google.com/p/gerrit/downloads/list</a></p>
<p><strong>WARNING: This version contains a schema change.</strong></p>
<p>Apply the schema upgrade:</p>
<div class="listingblock">
<div class="content">
<pre><tt>  java -jar gerrit.war --cat sql/upgrade009_010.sql | psql reviewdb</tt></pre>
</div></div>
</div>
</div>
<h2>Important Notes</h2>
<div class="sectionbody">
<h3>Cache directory</h3>
<p>Gerrit now prefers having a temporary directory to store a disk-based content cache.  This cache used to be in the PostgreSQL database, and was the primary reason for the rather large size of the Gerrit schema.  In 2.0.11 the cache has been moved to the local filesystem, and now has automatic expiration management to prevent it from growing too large.  As this is only a cache, making backups of this directory is not required.</p>
<p>It is suggested (but not required) that you enable this cache:</p>
<div class="listingblock">
<div class="content">
<pre><tt>  mkdir $site_path/disk_cache
  chown gerrituser $site_path/disk_cache
  chmod 700 $site_path/disk_cache           ; # just to be paranoid</tt></pre>
</div></div>
<p>The directory can also be placed elsewhere in the local filesystem, see <tt>cache.directory</tt> in the <tt>gerrit.config</tt> file.</p>
<p><a href="http://gerrit.googlecode.com/svn/documentation/2.0/config-gerrit.html">http://gerrit.googlecode.com/svn/documentation/2.0/config-gerrit.html</a></p>
<h3>Protocol change</h3>
<p>The protocol between the browser based JavaScript and the server has changed.  After installing 2.0.11 users need to load the site page again to ensure they are running 2.0.11 or later.  Users can verify they have the new version by checking the version number in the footer in the lower right.  Users who don't load the new version (e.g. are using a stale tab from a week ago) will see errors when trying to view patches.</p>
</div>
<h2>New Features</h2>
<div class="sectionbody">
<ul>
<li>
<p>
GERRIT-8    Add <em>Whole File</em> as a context preference in the user s&#8230;
</p>
</li>
<li>
<p>
GERRIT-9    Honor user's "Default Context" preference
</p>
</li>
<li>
<p>
GERRIT-14   Split patch view RPCs into two halves
</p>
</li>
<li>
<p>
GERRIT-61   Database error in side by side view
</p>
</li>
<li>
<p>
GERRIT-156  Rewrite the side-by-side and unified diff viewers
</p>
<p>The side by side and unified patch viewers have been completely rewritten.  Gerrit now honors the user's Default Context setting (from My &gt; Settings) in both the side by side and the unified patch view.  A new "Whole File" setting is also available, showing the complete file.</p>
</li>
<li>
<p>
GERRIT-154  Add the branch name to the beginning of the subject li&#8230;
</p>
</li>
<li>
<p>
Sending mail when merge failed due to path conflict, m&#8230;
</p>
<p>Some improvements have been made with regards to the emails sent by Gerrit.</p>
</li>
<li>
<p>
Configure the JGit WindowCache from $site_path/gerrit&#8230;.
</p>
</li>
<li>
<p>
Document the new gerrit.config file
</p>
<p>Gerrit now supports a Git-style "$site_path/gerrit.config" configuration file.  Currently this supports configuration of the various memory caches, including control over JGit's pack file cache.  See the updated documentation section for more details:
<a href="http://gerrit.googlecode.com/svn/documentation/2.0/config-gerrit.html">http://gerrit.googlecode.com/svn/documentation/2.0/config-gerrit.html</a></p>
</li>
<li>
<p>
Add "gerrit show-caches" to view cache statistics
</p>
<p>There is a new administrative command over SSH called "gerrit show-caches" which displays current cache statistics for the various caches within the Gerrit memory space.</p>
</li>
<li>
<p>
Expand local part emails when creating new changes
</p>
<p>Simple DWIMery: users can now do <tt>repo upload &#8212;reviewer=who</tt> to have the reviewer email automatically expand according to the email_format column in system_config, e.g. by expanding <tt>who</tt> to <tt>who@example.com</tt>.</p>
</li>
</ul>
</div>
<h2>Bug Fixes</h2>
<div class="sectionbody">
<ul>
<li>
<p>
GERRIT-81   Can't repack a repository while Gerrit is running
</p>
<p>Running "git repack", "git gc" or "git fetch" in a repository owned by Gerrit is now safe while Gerrit is running.</p>
</li>
<li>
<p>
GERRIT-165  Don't create new user accounts as full name = "null nu&#8230;
</p>
<p>New users coming from Google Accounts OpenID provider where given a full name of "null null" rather than "Anonymous Coward".</p>
</li>
<li>
<p>
Honor account.preferred_email when checking co&#8230;
</p>
<p>Service users created by manually inserting into the accounts table didn't permit using their preferred_email in commits or tags; administrators had to also insert a dummy record into the account_external_ids table.  The dummy account_external_ids record is no longer necessary.</p>
</li>
</ul>
</div>
<h2>Other Changes</h2>
<div class="sectionbody">
<ul>
<li>
<p>
Start 2.0.11 development
</p>
</li>
<li>
<p>
Include the <em>Google Format</em> style we selected in our p&#8230;
</p>
</li>
<li>
<p>
Upgrade JGit to v0.4.0-310-g3da8761
</p>
</li>
<li>
<p>
Include JGit sources when building GWT code
</p>
</li>
<li>
<p>
Cleanup classpath and use source JARs to build JavaScr&#8230;
</p>
</li>
<li>
<p>
Remove the ImportGerrit1 command line utility
</p>
</li>
<li>
<p>
Remove EncryptContactInfo helper program
</p>
</li>
<li>
<p>
Add custom serialization for jgit.diff.Edit
</p>
</li>
<li>
<p>
Add Ehcache 1.6.0-beta5 to our dependency list
</p>
</li>
<li>
<p>
Start/stop Ehcache when GerritServer starts/stops
</p>
</li>
<li>
<p>
Cache OpenID discovery results inside of Ehcache
</p>
</li>
<li>
<p>
Cache JGit FileHeader and EditList inside of Ehcache
</p>
</li>
<li>
<p>
Store FileHeader and EditList in Ehache during patch s&#8230;
</p>
</li>
<li>
<p>
Remove the now dead patch_contents table from the data&#8230;
</p>
</li>
<li>
<p>
Fix "null null" user names during schema upgrade from &#8230;
</p>
</li>
<li>
<p>
Work around asciidoc 8.2.2 not including our APLv2 lic&#8230;
</p>
</li>
<li>
<p>
Remove unused logger from SshServlet
</p>
</li>
<li>
<p>
Reuse is administrator test in admin SSH commands
</p>
</li>
<li>
<p>
Use common PrintWriter construction in command impleme&#8230;
</p>
</li>
<li>
<p>
Refactor gerrit flush-caches to just flush everything &#8230;
</p>
</li>
<li>
<p>
GERRIT-166  Move the SSH key cache into Ehcache
</p>
</li>
<li>
<p>
Change the diff cache serialization of JGit ObjectId i&#8230;
</p>
</li>
<li>
<p>
Fix git_base_path documentation in config-gerrit
</p>
</li>
<li>
<p>
Clarify the default max_session_age in config-gerrit
</p>
</li>
<li>
<p>
Enhance the site_path entry in config-gerrit
</p>
</li>
<li>
<p>
Clarify the caching of static assets under $site_path/&#8230;
</p>
</li>
<li>
<p>
Minor grammar fixes in the Google Analytics documentat&#8230;
</p>
</li>
<li>
<p>
Document that replication honors StrictHostKeyChecking
</p>
</li>
<li>
<p>
Document how ~/.ssh/known_hosts is used during replica&#8230;
</p>
</li>
<li>
<p>
Document how ssh-agent cannot be used for replication
</p>
</li>
<li>
<p>
Fix git_base_path references in project-setup
</p>
</li>
<li>
<p>
Cleanup project setup documentation
</p>
</li>
<li>
<p>
Expand the config-contact documentation to describe th&#8230;
</p>
</li>
<li>
<p>
Clarify the gitweb integration documentation
</p>
</li>
<li>
<p>
Minor corrections in install documentation
</p>
</li>
<li>
<p>
Reformat the config-gerrit page to free up section hea&#8230;
</p>
</li>
<li>
<p>
Enable table of contents in documentation files
</p>
</li>
<li>
<p>
Add the source code version number to documentation
</p>
</li>
<li>
<p>
More reformatting of the config-gerrit page
</p>
</li>
<li>
<p>
Cleanup formatting references for file system path var&#8230;
</p>
</li>
<li>
<p>
Cleanup the documentation index
</p>
</li>
<li>
<p>
Kill the feature roadmap in the documentation
</p>
</li>
<li>
<p>
Only use the disk cache directory if we can write to it
</p>
</li>
<li>
<p>
Change the title of the installation guide
</p>
</li>
<li>
<p>
Note in the developer install guides that you need to &#8230;
</p>
</li>
</ul>
</div>
<div id="footer">
<div id="footer-text">
Version 2.0.11 (from v2.1.1.1-104-gc20e283)<br />
Last updated 06-Dec-2010 16:46:39 PDT
</div>
</div>
</body>
</html>
